---
title: Osaka.R Slackの朝もくチャンネルにツィートボタンを設置
author: ''
date: '2022-02-24'
slug: osakar-tweet-button
categories: []
tags: []
output:
  blogdown::html_page:
    md_extensions: +east_asian_line_breaks+task_lists
---



<p>Slackではチャンネル上部に関連ページへのリンクを設置できます。</p>
<blockquote>
<p><a href="https://slack.com/intl/ja-jp/help/articles/205239997-%E3%83%A1%E3%83%83%E3%82%BB%E3%83%BC%E3%82%B8%E3%81%A8%E9%96%A2%E9%80%A3%E3%83%9A%E3%83%BC%E3%82%B8%E3%81%AE%E3%83%AA%E3%83%B3%E3%82%AF%E3%82%92%E3%83%94%E3%83%B3%E7%95%99%E3%82%81%E3%81%99%E3%82%8B">メッセージと関連ページのリンクをピン留めする</a></p>
</blockquote>
<p>この機能を使って以下のように、TweetボタンをOsaka.R Slackの朝もくチャンネルに設置しました。</p>
<p><img src="tweet-button.png" style="width:100%" /></p>
<p>ボタンをクリックすると、以下のように、テンプレート化したテキストをツィートできます。もちろん、朝もくでやる内容など、コメントを追加してもOK。</p>
<p><img src="tweet-page.png" style="width:100%" /></p>
<p>Tweet用のURLはRで作成しました。以下のコードの<code>URL</code>変数と<code>TEXT</code>変数を調整すると、ご所望のページへのリンクとテキストをテンプレート化したツィート生成リンクを作れます。</p>
<pre class="r"><code>URL = &quot;https://osaka-r.connpass.com&quot;
TEXT = &quot;#OsakaR 朝もく&quot;

sprintf(
  &quot;https://twitter.com/intent/tweet?url=%s&amp;text=%s&quot;,
  URLencode(URL, reserved = TRUE),
  URLencode(TEXT, reserved = TRUE)
)</code></pre>
<pre><code>## [1] &quot;https://twitter.com/intent/tweet?url=https%3A%2F%2Fosaka-r.connpass.com&amp;text=%23OsakaR%20%E6%9C%9D%E3%82%82%E3%81%8F&quot;</code></pre>
<p><code>URLencode</code>関数はURL上で特殊文字を文字列として使いたい時のものです。
<code>reserved = TRUE</code>を指定すると、徹底的にやってくれます。たとえば<code>/</code>はURLで特殊な意味を持ちますが、この関数を使うと<code>%2F</code>になります。</p>
<p><strong>Enjoy!!</strong></p>
